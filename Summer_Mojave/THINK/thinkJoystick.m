function motorControls = thinkJoystick(senseData)
%%% Think behavior for joystick demo
 % INPUT: senseData(struct) - contains sensor data from SENSE
 % OUTPUT: motorControls(struct) - pwm controls for Moj. and Servos
 
    sharpData = senseData.sharp;
    sonarData = senseData.sonar;
    joystickData = senseData.joystick;
    
    motorControls = safetyCheck(sharpData, sonarData);

    if motorControls == -1
        motorControls = struct( ...
            "throttle", joystickData.throttle, ...
            "steer", joystickData.steer, ...
            "maxSpeed", joystickData.max, ...
            "pan", 90, ...
            "tilt", 90, ...
            "lidarTilt");
        return
    else
        motorControls = struct( ...
            "throttle", 0,...
            "steer", 0, ...
            "maxSpeed", 0, ...
            "pan", 90, ...
            "tilt", 90, ...
            "lidarTilt", 90);
        return;
    end
    
end